define ("datafield_share/main",["core/ajax","jquery","core/templates"],function(a,b,c){return{processResults:function processResults(a,b){return b},transport:function transport(d,e,f,g){var h=b(d).attr("data-courseid");a.call([{methodname:"core_enrol_search_users",args:{courseid:h,search:e,searchanywhere:!1,page:0,perpage:30}}])[0].then(function(a){var d=[],e=[];b.each(a,function(a,f){var g=f,h=[];b.each(e,function(a,b){if("undefined"!=typeof f[b]&&""!==f[b]){g.hasidentity=!0;h.push(f[b])}});g.identity=h.join(", ");d.push(c.render("datafield_share/form-user-selector-suggestion",g).then(function(a){return{value:f.id,label:a}}))});return b.when.apply(b,d)}).then(function(){var a=[];if(arguments[0]){a=Array.prototype.slice.call(arguments)}f(a)}).catch(g)}}});
//# sourceMappingURL=main.min.js.map
